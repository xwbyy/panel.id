<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pterodactyl Console</title>
    <style>
        body {
            background-color: #1E1E1E;
            color: #D4D4D4;
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }
        .header {
            background-color: #333333;
            padding: 10px;
            display: flex;
            align-items: center;
            flex-shrink: 0;
        }
        .header h1 {
            margin: 0;
            font-size: 24px;
            color: white;
            flex-grow: 1;
        }
        .header .icons {
            display: flex;
            align-items: center;
        }
        .header .icons a {
            margin-left: 10px;
            cursor: pointer;
            color: white;
            text-decoration: none;
            font-size: 24px;
        }
        .buttons {
            background-color: #333333;
            padding: 10px;
            display: flex;
            justify-content: center;
            flex-shrink: 0;
        }
        .buttons button {
            border: none;
            color: white;
            padding: 15px 30px;
            margin: 0 15px;
            cursor: pointer;
            font-size: 18px;
        }
        .buttons .start {
            background-color: #1E90FF;
        }
        .buttons .restart {
            background-color: #808080;
        }
        .buttons .stop {
            background-color: #FF4500;
        }
        .buttons button:hover {
            opacity: 0.8;
        }
        .console-container {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            overflow: hidden;
            position: relative;
        }
        .console {
            padding: 20px;
            font-family: monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 16px;
            flex-grow: 1;
            overflow-y: auto;
            background-color: #1E1E1E;
            color: #D4D4D4;
            box-sizing: border-box;
        }
        .charts {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 20px;
            overflow-y: auto;
        }
        .chart-container {
            background-color: #333333;
            padding: 10px;
            border-radius: 5px;
        }
        canvas {
            width: 100%;
            height: 200px;
        }
        .footer {
            background-color: #333333;
            padding: 10px;
            text-align: center;
            color: #CCCCCC;
            flex-shrink: 0;
        }
        .footer .uptime {
            background-color: #007ACC;
            border-radius: 3px;
            padding: 5px 10px;
            display: inline-block;
            color: white;
        }
        .command-line-container {
            background-color: #333333;
            padding: 10px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            box-sizing: border-box;
        }
        .command-line {
            border: none;
            padding: 10px;
            font-size: 14px;
            color: #D4D4D4;
            background-color: #1E1E1E;
            width: 100%;
            box-sizing: border-box;
        }
        .command-line:focus {
            outline: none;
        }
        @media (max-width: 768px) {
            .header h1 {
                font-size: 20px;
            }
            .buttons button {
                font-size: 16px;
                padding: 12px 24px;
                margin: 0 10px;
            }
            .console {
                font-size: 14px;
                padding: 10px;
                height: 60vh;  /* Set the console height to 60% of the viewport height on mobile */
            }
            .footer .uptime {
                font-size: 12px;
                padding: 3px 6px;
            }
            .charts {
                flex-direction: column;
                gap: 10px;
                margin: 10px;
            }
            canvas {
                height: 150px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="header">
        <h1>Pterodactyl</h1>
        <div class="icons">
            <a href="public/about.html"><i class="fas fa-info-circle"></i></a>
            <a href="public/contact.html"><i class="fas fa-cog"></i></a>
        </div>
    </div>
    <div class="buttons">
        <button class="start" id="start-button" onclick="start()">Start</button>
        <button class="restart" id="restart-button" onclick="restart()">Restart</button>
        <button class="stop" id="stop-button" onclick="stop()">Stop</button>
    </div>
    <div class="console-container">
        <div class="console" id="console">
            <pre id="console-text">
Hi, welcome to my profile..
Pencet tombol start 
atau cmd help dibawah
Memuat data..
            </pre>
        </div>
        <div class="command-line-container">
            <input type="text" id="command-line" class="command-line" placeholder="Type a command...">
        </div>
    </div>
    <div class="footer">
        <div class="uptime" id="uptime">Address: <span id="ip-address">Loading...</span> | Uptime: <span id="uptime-text">0d 0h 0m</span></div>
    </div>
    <div class="charts">
        <div class="chart-container">
            <canvas id="cpuChart"></canvas>
        </div>
        <div class="chart-container">
            <canvas id="memoryChart"></canvas>
        </div>
        <div class="chart-container">
            <canvas id="networkChart"></canvas>
        </div>
    </div>
    <script>
        let typingInterval;
        let startTime;
        const ipAddressElement = document.getElementById("ip-address");
        const startButton = document.getElementById("start-button");
        const restartButton = document.getElementById("restart-button");
        const stopButton = document.getElementById("stop-button");
        const consoleText = document.getElementById("console-text");
        const commandLine = document.getElementById("command-line");

        async function getIpAddress() {
            try {
                const response = await fetch("https://api.ipify.org?format=json");
                const data = await response.json();
                ipAddressElement.textContent = data.ip;
            } catch (error) {
                ipAddressElement.textContent = "Error fetching IP";
            }
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function typeText(element, text) {
            for (let i = 0; i < text.length; i++) {
                element.textContent += text[i];
                element.scrollTop = element.scrollHeight;  // Scroll to bottom as new text is added
                await sleep(50);
                if (!typingInterval) break;  // Stop typing if interval is cleared
            }
        }

        async function start() {
            clearInterval(typingInterval);
            consoleText.textContent = "Memuat data..\n";
            startButton.disabled = true;
            await sleep(2000);  // Simulate loading
            consoleText.textContent = "";  // Clear previous text

            const introText = `
Nama saya Vynaa Valerie. 
Saya adalah seorang pekerja lepas 
atau yang dikenal sebagai freelancer. 
Saya berprofesi sebagai developer dan
creator bot. 
Dengan pengalaman yang luas dalam
pengembangan
aplikasi dan pembuatan bot, 
saya membantu klien untuk 
mengotomatisasi tugas, meningkatkan
efisiensi, dan menciptakan
solusi teknologi inovatif. 
Saya menguasai AI dan JavaScript, 
yang memungkinkan saya untuk 
menciptakan solusi cerdas dan responsif. 
Saya selalu bersemangat dalam 
mengadopsi teknologi terbaru dan 
mencari proyek-proyek menantang 
yang dapat mengasah kemampuan 
saya lebih jauh.

Nice to meet you :)
            `;

            typingInterval = setInterval(() => {}, 100);  // Dummy interval to control typing
            await typeText(consoleText, introText);
            clearInterval(typingInterval);  // Stop typing when done
            startButton.disabled = false;
        }

        function restart() {
            clearInterval(typingInterval);
            consoleText.textContent = "Server restarted...\n";
            setTimeout(start, 1000);
        }

        function stop() {
            clearInterval(typingInterval);
            consoleText.textContent = "Server stopped...\n";
        }

        function updateUptime() {
            const now = new Date();
            const diff = now - startTime;
            const seconds = Math.floor(diff / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);

            const uptimeText = `${days}d ${hours % 24}h ${minutes % 60}m`;
            document.getElementById("uptime-text").textContent = uptimeText;
        }

        commandLine.addEventListener("keydown", async (event) => {
            if (event.key === "Enter") {
                const command = commandLine.value.trim();
                commandLine.value = "";
                switch (command) {
                    case "start":
                        start();
                        break;
                    case "restart":
                        restart();
                        break;
                    case "stop":
                        stop();
                        break;
                    case "instagram":
                        consoleText.textContent += "Instagram\nhttps://instagram.com/vynaa_valerie\n";
                        break;
                    case "youtube":
                        consoleText.textContent += "YouTube\nhttps://youtube.com/@VynaaChan\n";
                        break;
                    case "chwa":
                        consoleText.textContent += "WhatsApp Channel\nhttps://whatsapp.com/channel/0029VaHPYh6LNSa81M9Xcq1K\n";
                        break;
                    case "github":
                        consoleText.textContent += "GitHub\nhttps://github.com/VynaaValerie\n";
                        break;
                    case "owner":
                        consoleText.textContent += "Owner\nhttps://wa.me/message/2MOJNXNC45Y5E1\n";
                        break;
                    case "donasi":
                        consoleText.textContent += "Donasi\n";
                        consoleText.innerHTML += '<img src="media/qris.jpg" alt="QRIS" style="max-width: 200px; max-height: 200px; display: block; margin: 10px 0;">';
                        break;
                    case "help":
                        const helpText = `
Available commands:
- help: Show this help message
- start: Start the server
- restart: Restart the server
- stop: Stop the server
- instagram: Show Instagram link
- youtube: Show YouTube link
- chwa: Show WhatsApp Channel link
- github: Show GitHub link
- owner: Show Owner link
- donasi: Show Donation QR code
                        `;
                        consoleText.textContent += "\n" + helpText + "\n";
                        consoleText.scrollTop = consoleText.scrollHeight;
                        break;
                    default:
                        consoleText.textContent += `\nUnknown command: ${command}\n`;
                        consoleText.scrollTop = consoleText.scrollHeight;
                        break;
                }
            }
        });

        async function fetchData() {
            // Simulate data fetching for demo purposes
            return {
                cpuUsage: Math.random() * 100,
                memoryUsage: Math.random() * 8000,
                networkUsage: Math.random() * 1000
            };
        }

        async function initCharts() {
            const cpuCtx = document.getElementById('cpuChart').getContext('2d');
            const memoryCtx = document.getElementById('memoryChart').getContext('2d');
            const networkCtx = document.getElementById('networkChart').getContext('2d');

            const cpuChart = new Chart(cpuCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'CPU Usage',
                        data: [],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1,
                        fill: false
                    }]
                },
                options: {
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Time'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'CPU (%)'
                            }
                        }
                    }
                }
            });

            const memoryChart = new Chart(memoryCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Memory Usage',
                        data: [],
                        borderColor: 'rgba(153, 102, 255, 1)',
                        borderWidth: 1,
                        fill: false
                    }]
                },
                options: {
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Time'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Memory (MB)'
                            }
                        }
                    }
                }
            });

            const networkChart = new Chart(networkCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Network Usage',
                        data: [],
                        borderColor: 'rgba(255, 206, 86, 1)',
                        borderWidth: 1,
                        fill: false
                    }]
                },
                options: {
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Time'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Network (KB/s)'
                            }
                        }
                    }
                }
            });

            setInterval(async () => {
                const data = await fetchData();
                const time = new Date().toLocaleTimeString();

                if (cpuChart.data.labels.length > 10) {
                    cpuChart.data.labels.shift();
                    cpuChart.data.datasets[0].data.shift();
                }

                if (memoryChart.data.labels.length > 10) {
                    memoryChart.data.labels.shift();
                    memoryChart.data.datasets[0].data.shift();
                }

                if (networkChart.data.labels.length > 10) {
                    networkChart.data.labels.shift();
                    networkChart.data.datasets[0].data.shift();
                }

                cpuChart.data.labels.push(time);
                cpuChart.data.datasets[0].data.push(data.cpuUsage);
                cpuChart.update();

                memoryChart.data.labels.push(time);
                memoryChart.data.datasets[0].data.push(data.memoryUsage);
                memoryChart.update();

                networkChart.data.labels.push(time);
                networkChart.data.datasets[0].data.push(data.networkUsage);
                networkChart.update();
            }, 2000);
        }

        window.onload = () => {
            getIpAddress();
            startTime = new Date();
            setInterval(updateUptime, 60000);  // Update uptime every minute
            initCharts();
        };
    </script>
</body>
</html>
